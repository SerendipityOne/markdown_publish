
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="余智杭">
      
      
      
        <link rel="prev" href="C51%E5%8D%95%E7%89%87%E6%9C%BA.html">
      
      
        <link rel="next" href="../%E8%80%83%E7%A0%94/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C.html">
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.1.3">
    
    
      
        <title>STM32 - Serendipity_Docs</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.c4a75a56.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.a0c5b2b5.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#stm32" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../index.html" title="Serendipity_Docs" class="md-header__button md-logo" aria-label="Serendipity_Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Serendipity_Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              STM32
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
            </label>
          
        
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/SerendipityOne/markdown_publish" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    Serendipity_Docs
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../index.html" title="Serendipity_Docs" class="md-nav__button md-logo" aria-label="Serendipity_Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Serendipity_Docs
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/SerendipityOne/markdown_publish" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    Serendipity_Docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../index.html" class="md-nav__link">
        主页
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
      
      
      
        <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          OI
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          OI
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1" >
      
      
      
        <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
          数据结构和算法
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_1">
          <span class="md-nav__icon md-icon"></span>
          数据结构和算法
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../OI/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95.html" class="md-nav__link">
        数据结构和算法
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
      
      
      
        <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
          算法总结
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_2">
          <span class="md-nav__icon md-icon"></span>
          算法总结
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../OI/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93.html" class="md-nav__link">
        算法总结
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
      
      
      
        <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
          动态规划
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_3">
          <span class="md-nav__icon md-icon"></span>
          动态规划
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../OI/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/%E8%AE%B0%E5%BF%86%E5%8C%96%E6%90%9C%E7%B4%A2.html" class="md-nav__link">
        记忆化搜索
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../OI/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/%E8%83%8C%E5%8C%85DP.html" class="md-nav__link">
        背包DP
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../OI/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/%E5%8C%BA%E9%97%B4DP.html" class="md-nav__link">
        区间DP
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
      
      
      
        <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          java后端
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          java后端
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../java%E5%90%8E%E7%AB%AF/%E5%BE%AE%E6%9C%8D%E5%8A%A1.html" class="md-nav__link">
        微服务
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../java%E5%90%8E%E7%AB%AF/Centos7%E5%AE%89%E8%A3%85Docker.html" class="md-nav__link">
        Centos7安装Docker
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../java%E5%90%8E%E7%AB%AF/Docker%E5%91%BD%E4%BB%A4.html" class="md-nav__link">
        Docker命令
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../java%E5%90%8E%E7%AB%AF/MyBatis-Plus.html" class="md-nav__link">
        MyBatis
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../java%E5%90%8E%E7%AB%AF/nacos%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BA.html" class="md-nav__link">
        nacos集群搭建
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../java%E5%90%8E%E7%AB%AF/RabbitMQ%E9%83%A8%E7%BD%B2%E6%8C%87%E5%8D%97.html" class="md-nav__link">
        RabbitMQ部署指南
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../java%E5%90%8E%E7%AB%AF/Redis7.html" class="md-nav__link">
        Redis7
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../java%E5%90%8E%E7%AB%AF/Spring6.html" class="md-nav__link">
        Spring6
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../java%E5%90%8E%E7%AB%AF/SpringBoot.html" class="md-nav__link">
        SpringBoot
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../java%E5%90%8E%E7%AB%AF/%E5%AE%89%E8%A3%85elasticsearch.html" class="md-nav__link">
        安装elasticsearch
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
      
      
      
        <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
          Qt
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Qt
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Qt/Qt.html" class="md-nav__link">
        Qt
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
      
      
      
        <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
          Python
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Python
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Python/Python%E9%BB%91%E9%A9%AC%E7%89%88.html" class="md-nav__link">
        Python黑马版
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Python/Python%E5%B0%8F%E7%94%B2%E9%B1%BC.html" class="md-nav__link">
        Python小甲鱼
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Python/%E7%88%AC%E8%99%AB.html" class="md-nav__link">
        爬虫
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
      
      
      
        <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
          前端
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          前端
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%89%8D%E7%AB%AF/Vue%EF%BC%88%E9%9D%9E%E8%84%9A%E6%89%8B%E6%9E%B6%EF%BC%89.html" class="md-nav__link">
        Vue（非脚手架）
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%89%8D%E7%AB%AF/Vue%EF%BC%88%E8%84%9A%E6%89%8B%E6%9E%B6%EF%BC%89.html" class="md-nav__link">
        Vue（脚手架）
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
      
      
      
        <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
          Android
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Android
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Android/Android.html" class="md-nav__link">
        Android
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" checked>
      
      
      
        <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
          嵌入式
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          嵌入式
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="C51%E5%8D%95%E7%89%87%E6%9C%BA.html" class="md-nav__link">
        C51单片机
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          STM32
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="STM32.html" class="md-nav__link md-nav__link--active">
        STM32
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#stm32_1" class="md-nav__link">
    STM32系统框架图
  </a>
  
    <nav class="md-nav" aria-label="STM32系统框架图">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    内核和芯片
  </a>
  
    <nav class="md-nav" aria-label="内核和芯片">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#f1" class="md-nav__link">
    F1系统架构
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stm32_2" class="md-nav__link">
    STM32的寻址范围
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    存储器映射
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    寄存器映射
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stm32cubemx" class="md-nav__link">
    STM32CubeMX
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stm32_3" class="md-nav__link">
    STM32时钟系统
  </a>
  
    <nav class="md-nav" aria-label="STM32时钟系统">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    认识时钟树
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    配置系统时钟
  </a>
  
    <nav class="md-nav" aria-label="配置系统时钟">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    外设时钟使能和失能
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hal_rcc_oscconfig" class="md-nav__link">
    HAL_RCC_OscConfig()函数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hal_rcc_clockconfig" class="md-nav__link">
    HAL_RCC_ClockConfig()函数
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gpio" class="md-nav__link">
    GPIO
  </a>
  
    <nav class="md-nav" aria-label="GPIO">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    八种工作模式
  </a>
  
    <nav class="md-nav" aria-label="八种工作模式">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1" class="md-nav__link">
    1、输入浮空
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2" class="md-nav__link">
    2、输入上拉
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3" class="md-nav__link">
    3、输入下拉
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4" class="md-nav__link">
    4、模拟功能
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5" class="md-nav__link">
    5、开漏输出
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6" class="md-nav__link">
    6、推挽输出
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7" class="md-nav__link">
    7、开漏式复用功能
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8" class="md-nav__link">
    8、推挽式复用功能
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#f4f7h7f1gpio" class="md-nav__link">
    F4/F7/H7系列和F1系列的GPIO差异点
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gpio_1" class="md-nav__link">
    GPIO寄存器
  </a>
  
    <nav class="md-nav" aria-label="GPIO寄存器">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#gpiox_crl-gpiox_crh" class="md-nav__link">
    端口配置寄存器（GPIOx_CRL 和 GPIOx_CRH）
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#odr" class="md-nav__link">
    端口输出数据寄存器（ODR）
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bsrr" class="md-nav__link">
    端口置位/复位寄存器（BSRR）
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gpio-idr" class="md-nav__link">
    GPIO 端口输入数据寄存器（IDR）
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gpio_2" class="md-nav__link">
    GPIO配置步骤
  </a>
  
    <nav class="md-nav" aria-label="GPIO配置步骤">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hal" class="md-nav__link">
    相关HAL库函数简介
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    中断
  </a>
  
    <nav class="md-nav" aria-label="中断">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#nvic" class="md-nav__link">
    NVIC
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exti" class="md-nav__link">
    EXTI
  </a>
  
    <nav class="md-nav" aria-label="EXTI">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    主要特性
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extif1f4f7" class="md-nav__link">
    EXTI工作原理(F1/F4/F7)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extiio" class="md-nav__link">
    EXTI和IO映射关系
  </a>
  
    <nav class="md-nav" aria-label="EXTI和IO映射关系">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#afiof1" class="md-nav__link">
    AFIO简介（F1）
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#syscfgf4f7h7" class="md-nav__link">
    SYSCFG简介（F4/F7/H7）
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exti-io" class="md-nav__link">
    EXTI与 IO 对应关系
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stm32-extigpio" class="md-nav__link">
    STM32 EXTI的配置步骤(GPIO外部中断)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stm32-extihalgpio" class="md-nav__link">
    STM32 EXTI的HAL库设置步骤(GPIO外部中断)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hal_1" class="md-nav__link">
    HAL库中断回调处理机制介绍
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    串口
  </a>
  
    <nav class="md-nav" aria-label="串口">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    串口通信协议
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stm32usart" class="md-nav__link">
    STM32的USART
  </a>
  
    <nav class="md-nav" aria-label="STM32的USART">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    主要特性
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usart" class="md-nav__link">
    USART 框图
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usartuartf1" class="md-nav__link">
    设置USART/UART波特率(F1)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halmsp" class="md-nav__link">
    HAL库外设初始化MSP回调机制
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hal_2" class="md-nav__link">
    HAL库中断回调机制
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usartuart" class="md-nav__link">
    USART/UART异步通信配置步骤
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#io" class="md-nav__link">
    IO引脚复用功能
  </a>
  
    <nav class="md-nav" aria-label="IO引脚复用功能">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#stm32f4f7h7io" class="md-nav__link">
    STM32F4/F7/H7的IO引脚复用
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
      
      
      
        <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
          考研
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_9">
          <span class="md-nav__icon md-icon"></span>
          考研
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../%E8%80%83%E7%A0%94/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C.html" class="md-nav__link">
        计算机网络
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../%E8%80%83%E7%A0%94/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86.html" class="md-nav__link">
        计算机组成原理
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" >
      
      
      
        <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
          软件杯
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_10">
          <span class="md-nav__icon md-icon"></span>
          软件杯
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../%E8%BD%AF%E4%BB%B6%E6%9D%AF/Build%20Thunderbird-114.0b6.html" class="md-nav__link">
        Build Thunderbird-114.0b6
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_11" >
      
      
      
        <label class="md-nav__link" for="__nav_11" id="__nav_11_label" tabindex="0">
          软考
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_11_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_11">
          <span class="md-nav__icon md-icon"></span>
          软考
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_11_1" >
      
      
      
        <label class="md-nav__link" for="__nav_11_1" id="__nav_11_1_label" tabindex="0">
          中级-软件设计师
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_11_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_11_1">
          <span class="md-nav__icon md-icon"></span>
          中级-软件设计师
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7-%E8%BD%AF%E4%BB%B6%E8%AE%BE%E8%AE%A1%E5%B8%88/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F.html" class="md-nav__link">
        操作系统
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7-%E8%BD%AF%E4%BB%B6%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E8%AF%AD%E8%A8%80%E4%B8%8E%E8%AF%AD%E8%A8%80%E5%A4%84%E7%90%86%E7%A8%8B%E5%BA%8F%E5%9F%BA%E7%A1%80.html" class="md-nav__link">
        程序设计语言与语言处理程序基础
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7-%E8%BD%AF%E4%BB%B6%E8%AE%BE%E8%AE%A1%E5%B8%88/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C.html" class="md-nav__link">
        计算机网络
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7-%E8%BD%AF%E4%BB%B6%E8%AE%BE%E8%AE%A1%E5%B8%88/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E4%B8%8E%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84.html" class="md-nav__link">
        计算机组成与结构体系
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7-%E8%BD%AF%E4%BB%B6%E8%AE%BE%E8%AE%A1%E5%B8%88/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F.html" class="md-nav__link">
        数据库系统
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7-%E8%BD%AF%E4%BB%B6%E8%AE%BE%E8%AE%A1%E5%B8%88/%E5%88%B7%E9%A2%98%E7%AC%94%E8%AE%B0.html" class="md-nav__link">
        刷题笔记
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7-%E8%BD%AF%E4%BB%B6%E8%AE%BE%E8%AE%A1%E5%B8%88/%E6%B3%95%E5%BE%8B%E6%B3%95%E8%A7%84.html" class="md-nav__link">
        法律法规
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7-%E8%BD%AF%E4%BB%B6%E8%AE%BE%E8%AE%A1%E5%B8%88/%E5%A4%9A%E5%AA%92%E4%BD%93%E5%9F%BA%E7%A1%80.html" class="md-nav__link">
        多媒体基础
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7-%E8%BD%AF%E4%BB%B6%E8%AE%BE%E8%AE%A1%E5%B8%88/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B.html" class="md-nav__link">
        软件工程
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7-%E8%BD%AF%E4%BB%B6%E8%AE%BE%E8%AE%A1%E5%B8%88/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E6%8A%80%E6%9C%AF.html" class="md-nav__link">
        面向对象技术
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7-%E8%BD%AF%E4%BB%B6%E8%AE%BE%E8%AE%A1%E5%B8%88/UML%E5%BB%BA%E6%A8%A1.html" class="md-nav__link">
        UML建模
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7-%E8%BD%AF%E4%BB%B6%E8%AE%BE%E8%AE%A1%E5%B8%88/%E6%95%B0%E6%8D%AE%E6%B5%81%E5%9B%BE.html" class="md-nav__link">
        数据流图
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12" >
      
      
      
        <label class="md-nav__link" for="__nav_12" id="__nav_12_label" tabindex="0">
          5G大唐杯
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_12_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_12">
          <span class="md-nav__icon md-icon"></span>
          5G大唐杯
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../5G%E5%A4%A7%E5%94%90%E6%9D%AF/5G%E6%8A%80%E6%9C%AF%E4%BB%BF%E7%9C%9F-5G%E7%89%A9%E7%90%86%E5%B1%82%E8%BF%87%E7%A8%8B.html" class="md-nav__link">
        5G技术仿真-5G物理层过程
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#stm32_1" class="md-nav__link">
    STM32系统框架图
  </a>
  
    <nav class="md-nav" aria-label="STM32系统框架图">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    内核和芯片
  </a>
  
    <nav class="md-nav" aria-label="内核和芯片">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#f1" class="md-nav__link">
    F1系统架构
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stm32_2" class="md-nav__link">
    STM32的寻址范围
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    存储器映射
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    寄存器映射
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stm32cubemx" class="md-nav__link">
    STM32CubeMX
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stm32_3" class="md-nav__link">
    STM32时钟系统
  </a>
  
    <nav class="md-nav" aria-label="STM32时钟系统">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    认识时钟树
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    配置系统时钟
  </a>
  
    <nav class="md-nav" aria-label="配置系统时钟">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    外设时钟使能和失能
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hal_rcc_oscconfig" class="md-nav__link">
    HAL_RCC_OscConfig()函数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hal_rcc_clockconfig" class="md-nav__link">
    HAL_RCC_ClockConfig()函数
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gpio" class="md-nav__link">
    GPIO
  </a>
  
    <nav class="md-nav" aria-label="GPIO">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    八种工作模式
  </a>
  
    <nav class="md-nav" aria-label="八种工作模式">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1" class="md-nav__link">
    1、输入浮空
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2" class="md-nav__link">
    2、输入上拉
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3" class="md-nav__link">
    3、输入下拉
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4" class="md-nav__link">
    4、模拟功能
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5" class="md-nav__link">
    5、开漏输出
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6" class="md-nav__link">
    6、推挽输出
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7" class="md-nav__link">
    7、开漏式复用功能
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8" class="md-nav__link">
    8、推挽式复用功能
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#f4f7h7f1gpio" class="md-nav__link">
    F4/F7/H7系列和F1系列的GPIO差异点
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gpio_1" class="md-nav__link">
    GPIO寄存器
  </a>
  
    <nav class="md-nav" aria-label="GPIO寄存器">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#gpiox_crl-gpiox_crh" class="md-nav__link">
    端口配置寄存器（GPIOx_CRL 和 GPIOx_CRH）
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#odr" class="md-nav__link">
    端口输出数据寄存器（ODR）
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bsrr" class="md-nav__link">
    端口置位/复位寄存器（BSRR）
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gpio-idr" class="md-nav__link">
    GPIO 端口输入数据寄存器（IDR）
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gpio_2" class="md-nav__link">
    GPIO配置步骤
  </a>
  
    <nav class="md-nav" aria-label="GPIO配置步骤">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hal" class="md-nav__link">
    相关HAL库函数简介
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    中断
  </a>
  
    <nav class="md-nav" aria-label="中断">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#nvic" class="md-nav__link">
    NVIC
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exti" class="md-nav__link">
    EXTI
  </a>
  
    <nav class="md-nav" aria-label="EXTI">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    主要特性
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extif1f4f7" class="md-nav__link">
    EXTI工作原理(F1/F4/F7)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extiio" class="md-nav__link">
    EXTI和IO映射关系
  </a>
  
    <nav class="md-nav" aria-label="EXTI和IO映射关系">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#afiof1" class="md-nav__link">
    AFIO简介（F1）
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#syscfgf4f7h7" class="md-nav__link">
    SYSCFG简介（F4/F7/H7）
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exti-io" class="md-nav__link">
    EXTI与 IO 对应关系
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stm32-extigpio" class="md-nav__link">
    STM32 EXTI的配置步骤(GPIO外部中断)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stm32-extihalgpio" class="md-nav__link">
    STM32 EXTI的HAL库设置步骤(GPIO外部中断)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hal_1" class="md-nav__link">
    HAL库中断回调处理机制介绍
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    串口
  </a>
  
    <nav class="md-nav" aria-label="串口">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    串口通信协议
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stm32usart" class="md-nav__link">
    STM32的USART
  </a>
  
    <nav class="md-nav" aria-label="STM32的USART">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    主要特性
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usart" class="md-nav__link">
    USART 框图
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usartuartf1" class="md-nav__link">
    设置USART/UART波特率(F1)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halmsp" class="md-nav__link">
    HAL库外设初始化MSP回调机制
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hal_2" class="md-nav__link">
    HAL库中断回调机制
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usartuart" class="md-nav__link">
    USART/UART异步通信配置步骤
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#io" class="md-nav__link">
    IO引脚复用功能
  </a>
  
    <nav class="md-nav" aria-label="IO引脚复用功能">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#stm32f4f7h7io" class="md-nav__link">
    STM32F4/F7/H7的IO引脚复用
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="stm32">STM32</h1>
<h2 id="stm32_1">STM32系统框架图</h2>
<h3 id="_1">内核和芯片</h3>
<h4 id="f1">F1系统架构</h4>
<p>F1系统架构主要可以分为4个主动单元和4个被动单元<span style='color:red'>（主动单元向被动单元发送指令）</span></p>
<table>
<thead>
<tr>
<th>主动单元</th>
<th>被动单元</th>
</tr>
</thead>
<tbody>
<tr>
<td>Cortex M3内核DCode总线(D-Bus)</td>
<td>内部FLASH</td>
</tr>
<tr>
<td>Cortex M3内核 系统总线（S-Bus）</td>
<td>内部SRAM</td>
</tr>
<tr>
<td>通用DMA1</td>
<td>FSMC</td>
</tr>
<tr>
<td>通用DMA2</td>
<td>AHB到APB的桥，它连接所有的APB外设</td>
</tr>
</tbody>
</table>
<ul>
<li>AHB：高级高性能总线</li>
<li>APB: 高级外围总线</li>
</ul>
<p>F1系统架构图参考文档《STM32F103x6.pdf》第11页，简图参考《STM32F10xxx中文参考手册.pdf》第25页</p>
<h3 id="stm32_2">STM32的寻址范围</h3>
<p>想要解答这个问题,我们需要清楚以下两点:</p>
<ol>
<li>32位的单片机可以有32根地址线(每根地址线有两种状态:导通或不导通)</li>
<li>单片机内存地址访问的存储单元是按字节编址的(而不是bit)</li>
</ol>
<p>STM32寻址大小: 2<sup>32</sup>=4G (字节)
STM32寻址范围: 0x0000 0000 ~ 0xFFFF FFFF</p>
<h3 id="_2">存储器映射</h3>
<p>存储器指可以存储数据的设备,本身没有地址信息,对存储器分配地址的过程称为存储器映射</p>
<p>STM32F103存储器映射图参考《STM32F103 战舰开发指南V1.3.pdf》第71页</p>
<p>ST将4GB空间分成8个块</p>
<table>
<thead>
<tr>
<th>存储块</th>
<th>功能</th>
<th>地址范围</th>
</tr>
</thead>
<tbody>
<tr>
<td>Block 0</td>
<td>Code</td>
<td>0X0000 0000 ~ 0x1FFF FFFF（512MB）</td>
</tr>
<tr>
<td>Block 1</td>
<td>SRAM</td>
<td>0X2000 0000 ~ 0x3FFF FFFF（512MB）</td>
</tr>
<tr>
<td>Block 2</td>
<td>外设</td>
<td>0X4000 0000 ~ 0x5FFF FFFF（512MB）</td>
</tr>
<tr>
<td>Block 3</td>
<td>FSMC Bank1&amp;2</td>
<td>0X6000 0000 ~ 0x7FFF FFFF（512MB）</td>
</tr>
<tr>
<td>Block 4</td>
<td>FSMC Bank3&amp;4</td>
<td>0X8000 0000 ~ 0x9FFF FFFF（512MB）</td>
</tr>
<tr>
<td>Block 5</td>
<td>FSMC 寄存器</td>
<td>0XA000 0000 ~ 0xBFFF FFFF（512MB）</td>
</tr>
<tr>
<td>Block 6</td>
<td>没用到</td>
<td>0XC000 0000 ~ 0xDFFF FFFF（512MB）</td>
</tr>
<tr>
<td>Block 7</td>
<td>Cortex M3 内部外设</td>
<td>0XE000 0000 ~ 0xFFFF FFFF（512MB）</td>
</tr>
</tbody>
</table>
<h3 id="_3">寄存器映射</h3>
<p>寄存器是单片机内部一种特殊的内存,可以实现对单片机各个功能的控制</p>
<p>简单来说:寄存器就是单片机内部的控制机构</p>
<p>详情参考《STM32F103 战舰开发指南V1.3.pdf》第5.3.4小节</p>
<h2 id="stm32cubemx">STM32CubeMX</h2>
<p>新建工程参考《STM32F103 战舰开发指南V1.3.pdf》第10.3小节</p>
<h2 id="stm32_3">STM32时钟系统</h2>
<h3 id="_4">认识时钟树</h3>
<p><img alt="image-20230723205735253" src="STM32.assets/image-20230723205735253.png" /></p>
<p><img alt="时钟树" src="STM32.assets/%E6%97%B6%E9%92%9F%E6%A0%91.png" /></p>
<h3 id="_5">配置系统时钟</h3>
<p>配置步骤：</p>
<ol>
<li>配置HSE_VALUE
    告诉HAL库外部晶振频率, stm32xxxx_hal_conf.h</li>
<li>
<p>调用Systemlnit()函数（可选）
    在启动文件中调用,在system_stm32xxxx.c定义</p>
</li>
<li>
<p>选择时钟源，配置PLL
    通过HAL_RCC_OscConfig()函数设置</p>
</li>
<li>
<p>选择系统时钟源，配置总线分频器
    通过HAL_RCC_ClockConfig()函数设置</p>
</li>
<li>
<p>配置扩展外设时钟(可选)（H7）
    通过HAL_RCCEx_PeriphCLKConfig()函数</p>
</li>
</ol>
<p>3+4+5= sys_stm32_clock_init()</p>
<h4 id="_6">外设时钟使能和失能</h4>
<p>我们要使用某个外设,必需先使能该外设时钟! ! !</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">HAL库使能某个外设时钟的方法</span><span class="p">,</span><span class="n">如</span><span class="o">:</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="n">HAL_RCC_GPIOA_CLK_ENABLE</span><span class="p">();</span><span class="w">     </span><span class="c1">//使能GPIOA时钟</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="n">HAL库禁止某个外设时钟的方法</span><span class="p">,</span><span class="n">如</span><span class="o">:</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="n">HAL_RCC_GPIOA_CLK_DISABLE</span><span class="p">();</span><span class="w">    </span><span class="c1">//禁止 GPIOA 时钟</span>
</code></pre></div>
<h4 id="hal_rcc_oscconfig">HAL_RCC_OscConfig()函数</h4>
<p>HAL_StatusTypeDef HAL_RCC_OscConfig(RCC_OsclnitTypeDef *RCC_OsclnitStruct)</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="p">{</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="w">    </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">OscillatorType</span><span class="p">;</span><span class="w">        </span><span class="cm">/* 选择需要配置的振荡器*/</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="w">    </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">HSEState</span><span class="p">;</span><span class="w">              </span><span class="cm">/*HSE 状态*/</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="w">    </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">HSEPredivValue</span><span class="p">;</span><span class="w">        </span><span class="cm">/* HSE 预分频值*/</span>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="w">    </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">LSEState</span><span class="p">;</span><span class="w">              </span><span class="cm">/* LSE 状态*/</span>
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="w">    </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">HSIState</span><span class="p">;</span><span class="w">              </span><span class="cm">/* HIS 状态*/</span>
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="w">    </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">HSICalibrationValue</span><span class="p">;</span><span class="w">   </span><span class="cm">/* HIS校准值*/</span>
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a><span class="w">    </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">LSIState</span><span class="p">;</span><span class="w">              </span><span class="cm">/* LSI 状态*/</span>
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a><span class="w">    </span><span class="n">RCC_PLLInitTypeDef</span><span class="w"> </span><span class="n">PLL</span><span class="p">;</span><span class="w">         </span><span class="cm">/* PLL锁相环体*/</span>
<a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a><span class="p">}</span><span class="n">RCC_OsclnitTypeDef</span><span class="p">;</span><span class="w">    </span><span class="c1">//振荡器初始化结构体</span>
<a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a>
<a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="p">{</span>
<a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a><span class="w">    </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">PLLState</span><span class="p">;</span><span class="w">      </span><span class="cm">/* PLL 状态*/</span>
<a id="__codelineno-1-14" name="__codelineno-1-14" href="#__codelineno-1-14"></a><span class="w">    </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">PLLSource</span><span class="p">;</span><span class="w">     </span><span class="cm">/* PLL 时钟源*/</span>
<a id="__codelineno-1-15" name="__codelineno-1-15" href="#__codelineno-1-15"></a><span class="w">    </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">PLLMUL</span><span class="p">;</span><span class="w">        </span><span class="cm">/* PLL倍频系数*/</span>
<a id="__codelineno-1-16" name="__codelineno-1-16" href="#__codelineno-1-16"></a><span class="p">}</span><span class="n">RCC_PLLInitTypeDef</span><span class="p">;</span>
</code></pre></div>
<h4 id="hal_rcc_clockconfig">HAL_RCC_ClockConfig()函数</h4>
<p>HAL_StatusTypeDef HAL_RCC_ClockConfig(RCC_ClkInitTypeDef *RCC_ClkInitStruct, uint32_t FLatency)</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="p">{</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="w">    </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">ClockType</span><span class="p">;</span><span class="w">         </span><span class="cm">/*要配置的时钟(SYSCLK/HCLK/PCLK1/PCLK2) */</span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="w">    </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">SYSCLKSource</span><span class="p">;</span><span class="w">      </span><span class="cm">/* 系统时钟源*/</span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="w">    </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">AHBCLKDivider</span><span class="p">;</span><span class="w">     </span><span class="cm">/* AHB时钟预分频系数*/</span>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="w">    </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">APB1CLKDivider</span><span class="w">     </span><span class="cm">/* APB1 时钟预分频系数*/</span>
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a><span class="w">    </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">APB2CLKDivider</span><span class="w">     </span><span class="cm">/* APB2 时钟预分频系数*/</span>
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a><span class="p">}</span><span class="n">RCC_ClkInitTypeDef</span><span class="p">;</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="kt">uint32_t</span><span class="w"> </span><span class="n">FLatency</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="cp">#define FLASH_LATENCY_0 0x00000000U             </span><span class="c1">//FLASH 0个等待周期</span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="cp">#define FLASH_LATENCY_2 FLASH_ACR_LATENCY_1     </span><span class="c1">//FLASH 1个等待周期</span>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="cp">#define FLASH_LATENCY_1 FLASH_ACR_LATENCY_O     </span><span class="c1">//FLASH 2个等待周期</span>
</code></pre></div>
<p>F1的系统时钟为72MHz，FLASH时钟来源于F1的系统时钟，若FLASH工作时钟频率使用72MHz则会超频（超频最大25MHz），所以需要等。</p>
<p>实际设置FLASH_ACR寄存器LATENCY位域，请参考《STM32F10xxx闪存编程参考手册.pdf》3.1小节</p>
<p><img alt="image-20230723211530095" src="STM32.assets/image-20230723211530095.png" /></p>
<h2 id="gpio">GPIO</h2>
<p><img alt="image-20230723213026026" src="STM32.assets/image-20230723213026026.png" /></p>
<p>① 保护二极管</p>
<p>② 上拉、下拉电阻</p>
<p>③ 施密特触发器</p>
<p>④ P-MOS 管和 N-MOS 管</p>
<p>具体参考《STM32F103 战舰开发指南V1.3》第13.1小节</p>
<h3 id="_7">八种工作模式</h3>
<table>
<thead>
<tr>
<th>GPIO八种工作模式</th>
<th>特点及应用</th>
</tr>
</thead>
<tbody>
<tr>
<td>输入浮空</td>
<td>输入用，完全浮空，状态不定</td>
</tr>
<tr>
<td>输入上拉</td>
<td>输入用，用内部上拉，默认是高电平</td>
</tr>
<tr>
<td>输入下拉</td>
<td>输入用，用内部下拉，默认是低电平</td>
</tr>
<tr>
<td>模拟功能</td>
<td>ADC、DAC</td>
</tr>
<tr>
<td>开漏输出</td>
<td>软件IIC的SDL、SCL等</td>
</tr>
<tr>
<td>推挽输出</td>
<td>驱动能力强, 25mA (max) ,通用输出</td>
</tr>
<tr>
<td>开漏式复用功能</td>
<td>片上外设功能(硬件IIC的SDL、引脚等)</td>
</tr>
<tr>
<td>推挽式复用功能</td>
<td>片上外设功能(SPI的SCK、MISO、MOSI引脚等)</td>
</tr>
</tbody>
</table>
<h4 id="1">1、输入浮空</h4>
<p><img alt="image-20230723214215668" src="STM32.assets/image-20230723214215668.png" /></p>
<p>上拉/下拉电阻为断开状态，施密特触发器打开，输出被禁止。 输入浮空模式下， IO 口的电平完全是由外部电路决定。如果 IO 引脚没有连接其他的设备，那么检测其输入电平是不确定的。该模式可以用于按键检测等场景。  </p>
<h4 id="2">2、输入上拉</h4>
<p><img alt="image-20230723214121542" src="STM32.assets/image-20230723214121542.png" /></p>
<p>上拉电阻导通，施密特触发器打开，输出被禁止。 在需要外部上拉电阻的时候，可以使用内部上拉电阻，这样可以节省一个外部电阻，但是内部上拉电阻的阻值较大，所以只是“弱上拉”，不适合做电流型驱动  </p>
<h4 id="3">3、输入下拉</h4>
<p><img alt="image-20230723214238483" src="STM32.assets/image-20230723214238483.png" /></p>
<p>下拉电阻导通，施密特触发器打开，输出被禁止。 在需要外部下拉电阻的时候，可以使用内部下拉电阻，这样可以节省一个外部电阻，但是内部下拉电阻的阻值较大，所以不适合做电流型驱动。  </p>
<h4 id="4">4、模拟功能</h4>
<p><img alt="image-20230723214328012" src="STM32.assets/image-20230723214328012.png" /></p>
<p>上下拉电阻断开，施密特触发器关闭，双 MOS 管也关闭。其他外设可以通过模拟通道输入输出。 该模式下需要用到芯片内部的模拟电路单元单元， 用于 ADC、 DAC、 MCO这类操作模拟信号的外设。  </p>
<h4 id="5">5、开漏输出</h4>
<p><img alt="image-20230723214356412" src="STM32.assets/image-20230723214356412.png" /></p>
<p>①上拉电阻关闭</p>
<p>②下拉电阻关闭</p>
<p>③施密特触发器打开</p>
<p>④P-MOS管始终不导通</p>
<p>⑤往ODR对应位写0，N-MOS管导通，写1则N-MOS管不导通</p>
<p><span style='color:red'>N-MOS管高电平导通，低电平关闭，P-MOS管则相反</span></p>
<p>特点：不能输出高电平，必须有外部（或内部）上拉才能输出高电平</p>
<h4 id="6">6、推挽输出</h4>
<p><img alt="image-20230723215300967" src="STM32.assets/image-20230723215300967.png" /></p>
<p>①上拉电阻关闭</p>
<p>②下拉电阻关闭</p>
<p>③施密特触发器打开</p>
<p>④往ODR对应位写0，N-MOS管导通，写1则P-MOS管不导通</p>
<p>特点：可输出高低带电平，驱动能力强</p>
<h4 id="7">7、开漏式复用功能</h4>
<p><img alt="image-20230723215143286" src="STM32.assets/image-20230723215143286.png" /></p>
<p>①上拉电阻关闭</p>
<p>②下拉电阻关闭</p>
<p>③施密特触发器打开</p>
<p>④ P-MOS管始终不导通</p>
<p>特点：</p>
<ol>
<li>
<p>不能输出高电平，必须有外部（或内部）上拉才能输出高电平。</p>
</li>
<li>
<p>由其他外设控制输出。</p>
</li>
</ol>
<h4 id="8">8、推挽式复用功能</h4>
<p><img alt="image-20230723215503503" src="STM32.assets/image-20230723215503503.png" /></p>
<p>①上拉电阻关闭</p>
<p>②下拉电阻关闭</p>
<p>③施密特触发器打开</p>
<p>特点：</p>
<ol>
<li>可输出高低带电平，驱动能力强</li>
<li>由其他外设控制输出。</li>
</ol>
<h4 id="f4f7h7f1gpio">F4/F7/H7系列和F1系列的GPIO差异点</h4>
<ol>
<li>F1在输出模式,禁止使用内部上下拉
    F4/F7/H7在输出模式,可以使用内部上下拉</li>
<li>不同系列IO翻转速度不同</li>
</ol>
<h3 id="gpio_1">GPIO寄存器</h3>
<p><img alt="image-20230724100015667" src="STM32.assets/image-20230724100015667.png" /></p>
<h4 id="gpiox_crl-gpiox_crh">端口配置寄存器（GPIOx_CRL 和 GPIOx_CRH）</h4>
<p><img alt="GPIOx_CRL 寄存器描述" src="STM32.assets/image-20230724100314038.png" /></p>
<p><img alt="GPIOx_CRH 寄存器描述" src="STM32.assets/image-20230724100330585.png" /></p>
<p>这两个寄存器都是 GPIO 口配置寄存器，不过 CRL 控制端口的低八位， CRH 控制端口的高八位。寄存器的作用是控制 GPIO 口的工作模式和工作速度。</p>
<p>每组 GPIO 下有 16 个 IO 口，一个寄存器共 32 位，每 4 个位控制 1 个 IO，所以才需要两个寄存器完成。  </p>
<p><span style='color:red'>当MODE设置为00，CNF设置为10时。设置为上拉/下拉输入模式，具体是上拉还是下拉则需要设置ODR寄存器。</span></p>
<p><img alt="image-20230724100916487" src="STM32.assets/image-20230724100916487.png" /></p>
<h4 id="odr">端口输出数据寄存器（ODR）</h4>
<p><img alt="image-20230724101033943" src="STM32.assets/image-20230724101033943.png" /></p>
<p>用于设置IO引脚输出的电平</p>
<h4 id="bsrr">端口置位/复位寄存器（BSRR）</h4>
<p><img alt="image-20230724101019505" src="STM32.assets/image-20230724101019505.png" /></p>
<p>用于间接写入ODR寄存器</p>
<ul>
<li>ODR和BSRR寄存器控制输出有什么区别？</li>
</ul>
<p>ST官方给的答案：使用ODR，在读和修改访问之间产生中断时，可能会发生风险，BSRR则无风险。</p>
<p><span style='color:red'>BSRR</span> VS <span style='color:red'>ODR</span></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="n">GPIOB</span><span class="o">-&gt;</span><span class="n">ODR</span><span class="o">=</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">;</span><span class="w">            </span><span class="cm">/* PB3 = 1 */</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="n">GPIOB</span><span class="o">-&gt;</span><span class="n">BSRR</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x00000008</span><span class="p">;</span><span class="w">   </span><span class="cm">/* PB3 = 1*/</span>
</code></pre></div>
<p>ODR修改：读→改→写
BSRR修改：写</p>
<h4 id="gpio-idr">GPIO 端口输入数据寄存器（IDR）</h4>
<p><img alt="image-20230724101214971" src="STM32.assets/image-20230724101214971.png" /></p>
<p>用于判断IO引脚的电平</p>
<h3 id="gpio_2">GPIO配置步骤</h3>
<ol>
<li>使能时钟
    HAL_RCC_GPIOx_CLK_ENABLE()</li>
<li>设置工作模式
    HAL_GPIO_Init()</li>
<li>设置输出状态（可选）
    HAL_GPIO_WritePin()
    HAL_GPIO_TogglePin()</li>
<li>读取输入状态（可选）
    HAL_GPIO_ReadPin()</li>
</ol>
<h4 id="hal">相关HAL库函数简介</h4>
<table>
<thead>
<tr>
<th>HAL库驱动函数</th>
<th>主要寄存器</th>
<th>功能</th>
</tr>
</thead>
<tbody>
<tr>
<td>HAL_RCC_GPIOx_CLK_ENABLE()</td>
<td>F1: RCC_APB2ENR<br/>F4: RCC_AHB1ENR<br/>F7: RCC_AHB1ENR<br/>H7: RCC_AHB4ENR</td>
<td>开启GPIO时钟</td>
</tr>
<tr>
<td>HAL_GPIO_Init(...)</td>
<td>F1: CRL, CRH, ODR<br/>F4/F7/H7:MODER、 OTYPER、OSPEEDR, PUPDR</td>
<td>初始化GPIO</td>
</tr>
<tr>
<td>HAL_GPIO_WritePin(...)</td>
<td>BSRR</td>
<td>控制IO输出高/低电平</td>
</tr>
<tr>
<td>HAL GPIO_TogglePin(...)</td>
<td>BSRR</td>
<td>每次调用IO输出电平翻转</td>
</tr>
<tr>
<td>HAL_GPIO_ReadPin(...)</td>
<td>IDR</td>
<td>读取IO电平</td>
</tr>
</tbody>
</table>
<h2 id="_8">中断</h2>
<p>打断CPU执行正常的程序,转而处理紧急程序,然后返回原暂停的程序继续运行,就叫中断</p>
<h3 id="nvic">NVIC</h3>
<p>Nested vectored interrupt controller，嵌套向量中断控制器，属于内核（M3/4/7）</p>
<p>NVIC支持:256个中断 (16内核+240外部) ，支持:256个优先级，允许裁剪!</p>
<ul>
<li>什么是中断向量表？<ul>
<li>定义一块固定的内存,以4字节对齐,存放各个中断服务函数程序的首地址</li>
<li>中断向量表定义在启动文件,当发生中断,CPU会自动执行对应的中断服务函数</li>
</ul>
</li>
</ul>
<p><img alt="image-20230724131753186" src="STM32.assets/image-20230724131753186.png" /></p>
<ul>
<li>
<p>STM32中断优先级基本概念</p>
<ul>
<li>
<p>抢占优先级(pre):高抢占优先级可以打断正在执行的低抢占优先级中断</p>
</li>
<li>
<p>响应优先级(sub):当抢占优先级相同时,响应优先级高的先执行,但是不能互相打断</p>
</li>
<li>
<p>抢占和响应都相同的情况下,自然优先级越高的,先执行</p>
</li>
<li>
<p>自然优先级:中断向量表的优先级</p>
</li>
<li>
<p>数值越小,表示优先级越高</p>
</li>
</ul>
</li>
<li>
<p>STM32中断优先级分组</p>
</li>
</ul>
<table>
<thead>
<tr>
<th>优先级分组</th>
<th>AIRCR[10:8]</th>
<th>IPRx bit[7:4]分配</th>
<th>分配结果</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>111</td>
<td>None : [7:4]</td>
<td>0位抢占优先级，4位响应优先级</td>
</tr>
<tr>
<td>1</td>
<td>110</td>
<td>[7] : [6:4]</td>
<td>1位抢占优先级，3位响应优先级</td>
</tr>
<tr>
<td>2</td>
<td>101</td>
<td>[7:6] : [5:4]</td>
<td>2位抢占优先级，2位响应优先级</td>
</tr>
<tr>
<td>3</td>
<td>100</td>
<td>[7:5] : [4]</td>
<td>3位抢占优先级，1位响应优先级</td>
</tr>
<tr>
<td>4</td>
<td>011</td>
<td>[7:4] : None</td>
<td>4位抢占优先级，0位响应优先级</td>
</tr>
</tbody>
</table>
<p>特别提示: 一个工程中,一般只设置一次中断优先级分组。</p>
<h3 id="exti">EXTI</h3>
<p>External(Extended) interrupt/event Controller,外部(扩展)中断事件控制器</p>
<p>包含20个产生事件/中断请求的边沿检测器,即总共: 20条EXTI线(F1)</p>
<p>EXTI作用：管理芯片内/外部的各种事件/中断</p>
<ul>
<li>
<p>中断和事件的理解：</p>
<ul>
<li>
<p>中断:要进入NVIC,有相应的中断服务函数,需要CPU处理</p>
</li>
<li>
<p>事件:不进入NVIC,仅用于内部硬件自动控制的,如: TIM、DMA、 ADC</p>
</li>
</ul>
</li>
</ul>
<h4 id="_9">主要特性</h4>
<ul>
<li>F1/F4/F7系列<ul>
<li>每条EXTI线都可以单独配置：选择类型（中断或者事件）、触发方式（上升沿，下降沿或者双边沿触发)、支持软件触发、开启/屏蔽、有挂起状态位</li>
</ul>
</li>
<li>H7系列<ul>
<li>由其它外设对EXTI产生的事件分为可配置事件和直接事件。</li>
<li>可配置事件:简单概括,基本和F1/F4/F7系列类似</li>
<li>直接事件:固定上升沿触发、不支持软件触发、无挂起状态位（有其他外设提供）</li>
</ul>
</li>
</ul>
<h4 id="extif1f4f7">EXTI工作原理(F1/F4/F7)</h4>
<p><img alt="image-20230724144442528" src="STM32.assets/image-20230724144442528.png" /></p>
<p>①边沿检测
②软件触发
③中断屏蔽/清除
④事件屏蔽</p>
<p>具体可参考《STM32F103 战舰开发指南V1.3》第222页</p>
<ul>
<li><strong>EXTI 上升沿触发选择寄存器（EXTI_RTSR）</strong></li>
</ul>
<p><img alt="image-20230724144938204" src="STM32.assets/image-20230724144938204.png" /></p>
<ul>
<li><strong>EXTI 下降沿触发选择寄存器（EXTI_FTSR）</strong>  </li>
</ul>
<p><img alt="image-20230724145007331" src="STM32.assets/image-20230724145007331.png" /></p>
<ul>
<li><strong>EXTI 中断屏蔽寄存器（EXTI_IMR）</strong></li>
</ul>
<p><img alt="image-20230724145038343" src="STM32.assets/image-20230724145038343.png" /></p>
<ul>
<li><strong>EXTI 挂起寄存器（ EXTI_PR）  </strong></li>
</ul>
<p><img alt="image-20230724145103286" src="STM32.assets/image-20230724145103286.png" /></p>
<h4 id="extiio">EXTI和IO映射关系</h4>
<h5 id="afiof1">AFIO简介（F1）</h5>
<p>Alternate Function IO,即复用功能IO,主要用于重映射和外部中断映射配置</p>
<p>外部中断配置：AFIO_EXTICR1 ~ 4，配置EXTI中断线0 ~ 15对应到哪个具体IO口</p>
<p>特别注意: 配置AFIO寄存器之前要使能AFIO时钟,方法如下:</p>
<p>​   HAL_RCC_AFIO_CLK_ENABLE();  对应RCC_APB2ENR寄存器位0</p>
<p><img alt="image-20230724145549924" src="STM32.assets/image-20230724145549924.png" /></p>
<h5 id="syscfgf4f7h7">SYSCFG简介（F4/F7/H7）</h5>
<p>外部中断配置: SYSCFG-EXTICR1 ~ 4,配置EXTI中断线0 ~ 15对应到哪个具体IO口</p>
<p>特别注意: 配置SYSCFG寄存器之前要使能SYSCFG时钟,方法如下:</p>
<p>HAL_RCC_SYSCFG_CLK_ENABLE();</p>
<h5 id="exti-io">EXTI与 IO 对应关系</h5>
<p><img alt="image-20230724150229949" src="STM32.assets/image-20230724150229949.png" /></p>
<p>AFIO_EXTICR1的EXTIO[3:0]位控制(F1)</p>
<p>一个时间段只可与一个IO进行映射</p>
<ul>
<li>如何使用中断</li>
</ul>
<p><img alt="image-20230724155633148" src="STM32.assets/image-20230724155633148.png" /></p>
<h4 id="stm32-extigpio">STM32 EXTI的配置步骤(GPIO外部中断)</h4>
<ol>
<li>使能GPIO时钟</li>
<li>设置GPIO输入模式（上/下拉/浮空输入）</li>
<li>使能AFIO/SYSCFG时钟（设置AFIO/SYSCFG时钟开启寄存器）</li>
<li>设置EXTI和IO对应关系（选择PA~PK到底哪组IO对应EXTI输入线, AFIO_EXTICR/SYSCFG_EXTICR）</li>
<li>设置EXTI屏蔽，上/下沿（设置EXTI对应通道的屏蔽和上升沿/下降沿触发，IMR、 RTSR/FTSR）</li>
<li>
<p>设置NVIC（分3步,见前面内容,即:设置优先级分组、设置优先级、使能中断）</p>
</li>
<li>
<p>设置中断服务函数（编写对应中断的中断服务函数！清中断标志！）</p>
</li>
</ol>
<p><span style='color:red'>注意：</span>步骤2- 5使用HAL_GPIO_Init一步到位</p>
<h4 id="stm32-extihalgpio">STM32 EXTI的HAL库设置步骤(GPIO外部中断)</h4>
<ol>
<li>使能GPIO时钟（使用：__HAL_RCC_GPIOx_CLK_ENABLE）</li>
<li>GPIO/AFIO(SYSCFG)/EXTI（使用： HAL_GPIO_Init,一步到位）</li>
<li>设置中断分组（使用：HAL_NVIC_SetPriorityGrouping，此函数仅需设置一次）</li>
<li>设置中断优先级（使用： HAL_NVIC_SetPriority）</li>
<li>使能中断（使用: HAL_NVIC_EnablelRQ）</li>
<li>设置中断服务函数（编写: EXTIx_IRQHandler,中断服务函数,清中断标志！）</li>
</ol>
<p>STM32仅有: EXTI0 ~ 4、 EXTI9 ~ 5、 EXTI15 ~ 10, 7个外部中断服务函数（EXTI0 ~ 4用5个，EXTI9 ~ 5与EXTI15 ~ 10各用一个）</p>
<h3 id="hal_1">HAL库中断回调处理机制介绍</h3>
<p><img alt="image-20230724160632573" src="STM32.assets/image-20230724160632573.png" /></p>
<h2 id="_10">串口</h2>
<h3 id="_11">串口通信协议</h3>
<p><img alt="image-20230724200632568" src="STM32.assets/image-20230724200632568.png" /></p>
<ul>
<li>启动位：必须占1个位长,保持逻辑0电平</li>
<li>
<p>有效数据位：可选5、6、7、8、9个位长， LSB在前，MSB在后</p>
</li>
<li>
<p>校验位：可选占1个位长,也可以没有该位</p>
</li>
<li>停止位：必须有,可选占0.5、1、1.5、2个位长,保持逻辑1电平</li>
</ul>
<h3 id="stm32usart">STM32的USART</h3>
<p>Universal synchronous asynchronous receiver transmitter，通用同步异步收发器</p>
<p>Universal asynchronous receiver transmitter，通用异步收发器</p>
<p>USART/UART都可以与外部设备进行全双工异步通信</p>
<p>USART,我们常用的也是异步通信</p>
<h4 id="_12">主要特性</h4>
<ol>
<li>全双工异步通信</li>
<li>单线半双工通信</li>
<li>单独的发送器和接收器使能位</li>
<li>可配置使用DMA的多缓冲器通信</li>
<li>多个带标志的中断源</li>
</ol>
<h4 id="usart">USART 框图</h4>
<p><img alt="image-20230724201848328" src="STM32.assets/image-20230724201848328.png" /></p>
<p>①USART 信号引脚  </p>
<p>② 数据寄存器  </p>
<p>③ 控制器  </p>
<p>④ 时钟与波特率  </p>
<h4 id="usartuartf1">设置USART/UART波特率(F1)</h4>
<p>波特率计算公式：<span class="arithmatex">\(baud = \frac{𝑓_{𝑐k}}{16 ∗ USARTDIV}\)</span></p>
<p>其中f<sub>ck</sub>是串口的时钟,如: USART1的时钟是PCLK2,其他串口都是PCLK1</p>
<ul>
<li>串口波特率设置</li>
</ul>
<p><img alt="image-20230724203456779" src="STM32.assets/image-20230724203456779.png" /></p>
<p>把USARTDIV的整数部分写入位[15:4], USARTDIV的小数部分写入[3:0]</p>
<h4 id="halmsp">HAL库外设初始化MSP回调机制</h4>
<p><img alt="image-20230724205924514" src="STM32.assets/image-20230724205924514.png" /></p>
<p><img alt="image-20230724210116261" src="STM32.assets/image-20230724210116261.png" /></p>
<h4 id="hal_2">HAL库中断回调机制</h4>
<p><img alt="image-20230724210410394" src="STM32.assets/image-20230724210410394.png" /></p>
<p><img alt="image-20230724210522416" src="STM32.assets/image-20230724210522416.png" /></p>
<h4 id="usartuart">USART/UART异步通信配置步骤</h4>
<p><img alt="image-20230724211504677" src="STM32.assets/image-20230724211504677.png" /></p>
<ul>
<li><code>HAL_StatusTypeDef HAL_UART_Init(UART_HandleTypeDef *huart);</code></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="p">{</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="w">    </span><span class="n">USART_TypeDef</span><span class="w"> </span><span class="o">*</span><span class="n">Instance</span><span class="p">;</span><span class="w"> </span><span class="cm">/* UART 寄存器基地址 */</span>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="w">    </span><span class="n">UART_InitTypeDef</span><span class="w"> </span><span class="n">Init</span><span class="p">;</span><span class="w"> </span><span class="cm">/* UART 通信参数 */</span>
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="w">    </span><span class="kt">uint8_t</span><span class="w"> </span><span class="o">*</span><span class="n">pTxBuffPtr</span><span class="p">;</span><span class="w"> </span><span class="cm">/* 指向 UART 发送缓冲区 */</span>
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="w">    </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">TxXferSize</span><span class="p">;</span><span class="w"> </span><span class="cm">/* UART 发送数据的大小 */</span>
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="w">    </span><span class="n">__IO</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">TxXferCount</span><span class="p">;</span><span class="w"> </span><span class="cm">/* UART 发送数据的个数 */</span>
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a><span class="w">    </span><span class="kt">uint8_t</span><span class="w"> </span><span class="o">*</span><span class="n">pRxBuffPtr</span><span class="p">;</span><span class="w"> </span><span class="cm">/* 指向 UART 接收缓冲区 */</span>
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a><span class="w">    </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">RxXferSize</span><span class="p">;</span><span class="w"> </span><span class="cm">/* UART 接收数据大小 */</span>
<a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a><span class="w">    </span><span class="n">__IO</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">RxXferCount</span><span class="p">;</span><span class="w"> </span><span class="cm">/* UART 接收数据的个数 */</span>
<a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a><span class="w">    </span><span class="n">DMA_HandleTypeDef</span><span class="w"> </span><span class="o">*</span><span class="n">hdmatx</span><span class="p">;</span><span class="w"> </span><span class="cm">/* UART 发送参数设置（DMA） */</span>
<a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a><span class="w">    </span><span class="n">DMA_HandleTypeDef</span><span class="w"> </span><span class="o">*</span><span class="n">hdmarx</span><span class="p">;</span><span class="w"> </span><span class="cm">/* UART 接收参数设置（DMA） */</span>
<a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a><span class="w">    </span><span class="n">HAL_LockTypeDef</span><span class="w"> </span><span class="n">Lock</span><span class="p">;</span><span class="w"> </span><span class="cm">/* 锁定对象 */</span>
<a id="__codelineno-5-13" name="__codelineno-5-13" href="#__codelineno-5-13"></a><span class="w">    </span><span class="n">__IO</span><span class="w"> </span><span class="n">HAL_UART_StateTypeDef</span><span class="w"> </span><span class="n">gState</span><span class="p">;</span><span class="w"> </span><span class="cm">/* UART 发送状态结构体 */</span>
<a id="__codelineno-5-14" name="__codelineno-5-14" href="#__codelineno-5-14"></a><span class="w">    </span><span class="n">__IO</span><span class="w"> </span><span class="n">HAL_UART_StateTypeDef</span><span class="w"> </span><span class="n">RxState</span><span class="p">;</span><span class="w"> </span><span class="cm">/* UART 接收状态结构体 */</span>
<a id="__codelineno-5-15" name="__codelineno-5-15" href="#__codelineno-5-15"></a><span class="w">    </span><span class="n">__IO</span><span class="w"> </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">ErrorCode</span><span class="p">;</span><span class="w"> </span><span class="cm">/* UART 操作错误信息 */</span>
<a id="__codelineno-5-16" name="__codelineno-5-16" href="#__codelineno-5-16"></a><span class="p">}</span><span class="n">UART_HandleTypeDef</span><span class="p">;</span>
<a id="__codelineno-5-17" name="__codelineno-5-17" href="#__codelineno-5-17"></a>
<a id="__codelineno-5-18" name="__codelineno-5-18" href="#__codelineno-5-18"></a><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="p">{</span>
<a id="__codelineno-5-19" name="__codelineno-5-19" href="#__codelineno-5-19"></a><span class="w">    </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">BaudRate</span><span class="p">;</span><span class="w"> </span><span class="cm">/* 波特率 */</span>
<a id="__codelineno-5-20" name="__codelineno-5-20" href="#__codelineno-5-20"></a><span class="w">    </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">WordLength</span><span class="p">;</span><span class="w"> </span><span class="cm">/* 字长 */</span>
<a id="__codelineno-5-21" name="__codelineno-5-21" href="#__codelineno-5-21"></a><span class="w">    </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">StopBits</span><span class="p">;</span><span class="w"> </span><span class="cm">/* 停止位 */</span>
<a id="__codelineno-5-22" name="__codelineno-5-22" href="#__codelineno-5-22"></a><span class="w">    </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">Parity</span><span class="p">;</span><span class="w"> </span><span class="cm">/* 校验位 */</span>
<a id="__codelineno-5-23" name="__codelineno-5-23" href="#__codelineno-5-23"></a><span class="w">    </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">Mode</span><span class="p">;</span><span class="w"> </span><span class="cm">/* UART 模式 */</span>
<a id="__codelineno-5-24" name="__codelineno-5-24" href="#__codelineno-5-24"></a><span class="w">    </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">HwFlowCtl</span><span class="p">;</span><span class="w"> </span><span class="cm">/* 硬件流设置 */</span>
<a id="__codelineno-5-25" name="__codelineno-5-25" href="#__codelineno-5-25"></a><span class="w">    </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">OverSampling</span><span class="p">;</span><span class="w"> </span><span class="cm">/* 过采样设置 */</span>
<a id="__codelineno-5-26" name="__codelineno-5-26" href="#__codelineno-5-26"></a><span class="p">}</span><span class="n">UART_InitTypeDef</span><span class="p">;</span>
</code></pre></div>
<ul>
<li>
<p><code>HAL_StatusTypeDef HAL_UART_Receive_IT(UART_HandleTypeDef *huart, uint8_t *pData, uint16_t Size);</code></p>
<ul>
<li>
<p>作用：以中断的方式接收指定字节的数据</p>
</li>
<li>
<p>形参1是 UART_HandleTypeDef 结构体类型指针变量</p>
</li>
<li>
<p>形参2是指向接收数据缓冲区</p>
</li>
<li>
<p>形参3是要接收的数据大小,以字节为单位</p>
</li>
</ul>
</li>
<li>
<p><code>HAL_StatusTypeDef HAL_UART_Transmit(UART_HandleTypeDef *huart, uint8_t *pData, uint16_t Size, uint32_t Timeout)</code></p>
<ul>
<li>
<p>作用: 以阻塞的方式发送指定字节的数据</p>
</li>
<li>
<p>形参1: UART_HandleTypeDef结构体类型指针变量</p>
</li>
<li>
<p>形参2:指向要发送的数据地址</p>
</li>
<li>
<p>形参3:要发送的数据大小,以字节为单位</p>
</li>
<li>
<p>形参4:设置的超时时间,以ms单位</p>
</li>
</ul>
</li>
</ul>
<h4 id="io">IO引脚复用功能</h4>
<ul>
<li>通用：IO端口的输入或输出是由GPIO外设控制,我们称之为通用</li>
<li>复用：IO端口的输入或输出是由其它非GPIO外设控制,我们称之为复用</li>
</ul>
<h5 id="stm32f4f7h7io">STM32F4/F7/H7的IO引脚复用</h5>
<p>为了解决F1系列存在的1O复用功能冲突问题, F4往后的系列都加入了复用器</p>
<p>复用器特点:</p>
<ol>
<li>每个IO 引脚都有一个复用器</li>
<li>复用器采用16路复用功能输入(AF0到AF15)</li>
<li>复用器一次仅允许一个外设的复用功能(AF)连接到IO引脚</li>
<li>通过GPIOx_AFRL和GPIOx_AFRH寄存器进行配置</li>
</ol>
<p><strong>温馨提示：</strong>复位完成后，所有IO 都会连接到系统的复用功能0 (AFO)</p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
      <script src="../assets/javascripts/bundle.efa0ade1.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
      
    
  </body>
</html>